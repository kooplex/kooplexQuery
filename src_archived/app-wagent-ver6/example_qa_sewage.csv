question,sql,answer
How many samples derived from Budapest?,SELECT COUNT(*) FROM  meta m INNER JOIN  location l ON m.location_id = l.id WHERE l.city = 'Budapest';;,26
What was the lowest pH of sewage samples?,SELECT MIN(pH) FROM  meta WHERE pH IS NOT NULL;,6.5
Which country does the sewage sample with the highest temperature come from?,SELECT l.country FROM  meta m INNER JOIN  location l ON m.location_id = l.id WHERE m.temperature = (SELECT MAX(temperature) FROM  meta WHERE temperature IS NOT NULL);,Hungary
How many samples contain antibiotic resistance genes linked to Amoxicillin resistance?,SELECT COUNT(DISTINCT grc.meta_id) FROM  gene_resfinder gr INNER JOIN  antibiotic_resfinder ar ON gr.id = ar.gene_resfinder_id INNER JOIN  gene_resfinder_clr grc ON gr.id = grc.gene_resfinder_id WHERE ar.antibiotic = 'Amoxicillin';,238
How many sewage plants provided samples containing antibiotic resistance genes associated with Amoxicillin resistance?,SELECT COUNT(DISTINCT l.plant) FROM  gene_resfinder gr INNER JOIN  antibiotic_resfinder ar ON gr.id = ar.gene_resfinder_id INNER JOIN  gene_resfinder_clr grc ON gr.id = grc.gene_resfinder_id INNER JOIN  meta m ON grc.meta_id = m.id INNER JOIN  location l ON m.location_id = l.id WHERE ar.antibiotic = 'Amoxicillin';,7
What percentage of all sewage plants provided samples containing antibiotic resistance genes linked to Carbomycin resistance?,SELECT (COUNT(DISTINCT l.plant) * 100.0 / (SELECT COUNT(DISTINCT plant) FROM  location)) AS percentage FROM  gene_resfinder gr INNER JOIN  antibiotic_resfinder ar ON gr.id = ar.gene_resfinder_id INNER JOIN  gene_resfinder_clr grc ON gr.id = grc.gene_resfinder_id INNER JOIN  meta m ON grc.meta_id = m.id INNER JOIN  location l ON m.location_id = l.id WHERE ar.antibiotic = 'Carbomycin';,57.14
How many contigs contain the 'miaB' gene?,SELECT COUNT(DISTINCT c.id) FROM  contig c INNER JOIN  gene_annotation ga ON c.id = ga.contig_id WHERE ga.gene = 'miaB';,1488
How many MAGs contain the Klebsiella terrigena species?,SELECT COUNT(*) FROM  mag_reference m JOIN  gtdb g ON m.id = g.mag_reference_id JOIN  tax_gtdb t ON g.tax_gtdb_id = t.id WHERE t.name = 'Klebsiella terrigena';,1
How many MAGs do we have with contamination below 10% and GC content greater than 0.6?,SELECT COUNT(*) FROM  checkm2 WHERE contamination < 10 AND gc_content > 0.6;,1006
Was the Escherichia coli virulence gene 'STp' detected in any samples originating from Budapest?,SELECT COUNT(*) FROM  qpcr q INNER JOIN  meta m ON q.meta_id = m.id INNER JOIN  location l ON m.location_id = l.id WHERE l.city = 'Budapest' AND q.virulence_gene = 'STp' AND q.positive = TRUE;,7
How many MAGs are part of the Unified Human Gastrointestinal Genome?,SELECT COUNT(*) FROM  gtdb g INNER JOIN  tax_gtdb t ON g.tax_gtdb_id = t.id WHERE t.human_microbiome = TRUE;,240
How many genes that are express resistance against the Amoxicilin drug,SELECT COUNT(*) FROM  antibiotic_resfinder WHERE antibiotic = 'Amoxicillin',1027
From which cities are the samples from?,Select Distinct(location.city) from location Join  meta on meta.location_id = location.id,"[('Copenhagen',), ('Rotterdam',), ('Bologna',), ('Budapest',), ('Rome',)]"
Against which drug is the gene 'fomB_1_AB016934' resistant?,SELECT * FROM  antibiotic_resfinder ar JOIN gene_resfinder gr ON ar.gene_resfinder_id = gr.id WHERE gr.name = 'fomB_1_AB016934',Fosfomycin
Which antibiotic resistance gene has the highest abundance and contributes to resistance through increased efflux mechanisms?,"SELECT gr.name AS gene_name, grc.clr AS abundance FROM distilled.gene_resfinder AS gr JOIN distilled.gene_resfinder_clr AS grc ON gr.id = grc.gene_resfinder_id WHERE gr.increased_efflux = TRUE ORDER BY grc.clr DESC LIMIT 1; -- Find the antibiotic resistance gene with the highest abundance and involved in increased efflux mechanisms.",tet(A)_3_AY196695
How many contigs have a coverage greater than 10?,SELECT COUNT(*) AS num_contigs FROM distilled.contig WHERE coverage > 10;,58636
How many contigs from plasmids were found in samples collected from Budapest?,SELECT COUNT(*) AS num_plasmid_contigs FROM distilled.contig c INNER JOIN distilled.location l ON c.location_id = l.id WHERE c.possible_source = 'plasmid' AND l.city = 'Budapest'; ,67417
